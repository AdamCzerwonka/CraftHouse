@page "/admin/category/{id}"
@model CraftHouse.Web.Pages.Admin.CategoryPage

<h1>Category</h1>
<p>Id: @Model.Category!.Id</p>
<p>Name: @Model.Category.Name</p>
<p>Products in this category: @Model.Category.Products.Count</p>

<form method="post" asp-page-handler="delete">
    <input type="hidden" asp-for="CategoryDelete.Id" value="@Model.Category!.Id"/>
    <input type="submit" value="Delete"/>
</form>

<form method="post" asp-page-handler="update">
    <div>
        <label for="update-id">Id:</label>
        <input readonly id="update-id" type="number" asp-for="CategoryUpdate.Id" value="@Model.Category.Id"/>
    </div>
    <div>
        <label for="update-name">Name:</label>
        <input id="update-name" type="text" asp-for="CategoryUpdate.Name" value="@Model.Category.Name"/>
    </div>
    <input type="submit" value="Update"/>
</form>

@foreach (var product in Model.Category.Products)
{
    <p>@product.Id @product.Name</p>
}